<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Achievements — Kurash South Africa</title>
  <meta name="description" content="Achievements and results from Kurash South Africa." />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: {
      colors: { kgreen:{700:'#047857'}, kblue:{700:'#1d4ed8'} },
      fontFamily: { sans:['Inter','system-ui'] },
      boxShadow:{ card:'0 16px 36px -20px rgb(15 23 42 / 0.35)'}
    } } };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="font-sans bg-white text-slate-800">
  <header class="h-60 md:h-72 w-full relative overflow-hidden">
    <img id="hero" class="absolute inset-0 h-full w-full object-cover" alt="">
    <div class="absolute inset-0 bg-black/45"></div>
    <div class="relative max-w-5xl mx-auto px-4 h-full flex items-end pb-8">
      <div>
        <a href="index.html" class="text-xs uppercase tracking-[0.3em] text-white/70">Kurash South Africa</a>
        <h1 id="titleHero" class="mt-2 text-3xl md:text-4xl font-extrabold text-white drop-shadow">Achievements</h1>
      </div>
    </div>
  </header>

  <main class="max-w-5xl mx-auto px-4 py-10 grid lg:grid-cols-[minmax(0,1fr)_18rem] gap-10">
    <article id="article" class="prose prose-slate max-w-none"></article>
    <aside class="space-y-6">
      <section class="rounded-3xl bg-slate-50 p-5 ring-1 ring-slate-200">
        <h2 class="text-sm font-semibold text-slate-700 uppercase tracking-wide">Medal table</h2>
        <table id="medalTable" class="mt-3 w-full text-sm text-slate-600"></table>
      </section>
      <section class="rounded-3xl bg-slate-50 p-5 ring-1 ring-slate-200">
        <h2 class="text-sm font-semibold text-slate-700 uppercase tracking-wide">Downloads</h2>
        <ul id="downloads" class="mt-3 text-sm text-slate-600 space-y-2"></ul>
      </section>
      <section class="rounded-3xl bg-slate-50 p-5 ring-1 ring-slate-200">
        <h2 class="text-sm font-semibold text-slate-700 uppercase tracking-wide">Share</h2>
        <div class="mt-3 flex flex-col gap-2 text-sm">
          <button class="shareBtn inline-flex items-center gap-2 rounded-lg bg-kgreen-700 text-white px-3 py-2" data-network="mailto">Email results</button>
          <button class="shareBtn inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2" data-network="whatsapp">Share on WhatsApp</button>
          <button class="shareBtn inline-flex items-center gap-2 rounded-lg border border-slate-300 px-3 py-2" data-network="copy">Copy link</button>
        </div>
      </section>
    </aside>
  </main>

  <div class="max-w-5xl mx-auto px-4 pb-10">
    <a href="index.html#updates" class="inline-flex items-center gap-2 text-sm text-kblue-700 underline">← Back to Updates</a>
  </div>

  <script>
    const id = new URLSearchParams(location.search).get('id');
    const data = {
      a1:{
        title:'Team SA wins 3 medals at Africa Cup',
        date:'2025-07-14',
        img:'assets/ach1.jpg',
        summary:`<p>Team South Africa returned from the Africa Cup with one gold and two bronze medals across Senior categories. Congratulations to the athletes and coaching staff.</p>
                 <h2>Highlights</h2>
                 <ul><li>Gold — 66 kg (L. Adams)</li><li>Bronze — 73 kg (T. Ndlovu)</li><li>Bronze — +78 kg (Z. Pillay)</li></ul>
                 <p>Next up is the Continental Championships in November.</p>`,
        medals:[{division:'Men 66 kg',result:'Gold'},{division:'Men 73 kg',result:'Bronze'},{division:'Women +78 kg',result:'Bronze'}],
        downloads:[{label:'Official results (PDF)',href:'assets/africa-cup-results.pdf'},{label:'Media photos (ZIP)',href:'assets/africa-cup-photos.zip'}]
      },
      a2:{
        title:'Referee D. Naidoo earns Continental B',
        date:'2025-06-02',
        img:'assets/ach2.jpg',
        summary:`<p>Congratulations to Referee D. Naidoo who achieved the Continental B badge following exams in Tunis. This milestone strengthens our officiating capacity.</p>
                 <p>Referee development workshops will continue across all provinces.</p>`,
        medals:[{division:'Exam Score',result:'92%'},{division:'Years Officiating',result:'8'},{division:'Upcoming Appointments',result:'Africa Cup, World Series'}],
        downloads:[{label:'Referee pathway guide',href:'assets/referee-pathway.pdf'}]
      },
      a3:{
        title:'KZN Youth Squad secures 5 medals',
        date:'2025-05-21',
        img:'assets/ach3.jpg',
        summary:`<p>KZN Youth Squad delivered outstanding performances at the Interprovincial Cup with five podium finishes.</p>
                 <ul><li>2 Gold · 2 Silver · 1 Bronze</li><li>Coach of the event: S. Mkhize</li></ul>`,
        medals:[{division:'U15 Boys',result:'Gold, Silver'},{division:'U18 Girls',result:'Gold'},{division:'Cadet Team',result:'Silver'},{division:'Open',result:'Bronze'}],
        downloads:[{label:'Interprovincial results',href:'#'}]
      }
    };

    const record = data[id] || { title:'Not found', date:'', img:'', summary:'<p>This item does not exist.</p>', medals:[], downloads:[] };

    document.getElementById('hero').src = record.img || '';
    document.getElementById('titleHero').textContent = record.title || 'Achievements';
    document.getElementById('article').innerHTML = `
      <p class="text-sm text-slate-500">${record.date ? new Date(record.date).toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'}) : ''}</p>
      <h2 class="text-2xl font-bold">${record.title}</h2>
      ${record.summary}`;

    const medalTable = document.getElementById('medalTable');
    if(record.medals?.length){
      medalTable.innerHTML = `<tbody>${record.medals.map(item => `<tr><td class="py-1 pr-3 font-semibold text-slate-700">${item.division}</td><td class="py-1 text-slate-600">${item.result}</td></tr>`).join('')}</tbody>`;
    } else {
      medalTable.innerHTML = '<tbody><tr><td class="text-xs text-slate-400">No medal breakdown available.</td></tr></tbody>';
    }

    const downloads = document.getElementById('downloads');
    downloads.innerHTML = record.downloads?.length ? record.downloads.map(item => `<li><a class="underline text-kgreen-700" href="${item.href}">${item.label}</a></li>`).join('') : '<li class="text-xs text-slate-400">No downloads provided.</li>';

    document.querySelectorAll('.shareBtn').forEach(btn => btn.addEventListener('click', () => {
      const url = location.href;
      const subject = encodeURIComponent(record.title);
      if(btn.dataset.network === 'mailto'){
        location.href = `mailto:?subject=${subject}&body=${encodeURIComponent(url)}`;
      } else if(btn.dataset.network === 'whatsapp'){
        window.open(`https://wa.me/?text=${encodeURIComponent(record.title + ' - ' + url)}`,'_blank');
      } else {
        navigator.clipboard?.writeText(url).then(()=> alert('Link copied to clipboard.'));
      }
    }));
  </script>
</body>
</html>
